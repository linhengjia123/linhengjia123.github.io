<!doctype html>
<html lang="zh-CN">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Hector ä»¿çœŸ & MPC å­¦ä¹ ç«™</title>
<style>
:root { --bg:#0b1220; --card:#0f172a; --text:#e5e7eb; --muted:#9aa4b2; --accent:#8b5cf6; --border:#1f2937; }
*{box-sizing:border-box} body{margin:0;background:var(--bg);color:var(--text);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Noto Sans SC,sans-serif;line-height:1.65}
header{position:sticky;top:0;background:rgba(11,18,32,.75);backdrop-filter:blur(6px);border-bottom:1px solid var(--border);padding:14px 20px;z-index:10}
header h1{margin:0;font-size:20px} .wrap{display:grid;grid-template-columns:260px 1fr;gap:22px;padding:20px}
nav{position:sticky;top:64px;height:calc(100vh - 84px);overflow:auto;border-right:1px solid var(--border);padding-right:14px}
nav h3{margin:8px 0;color:var(--muted);font-size:12px;letter-spacing:.12em;text-transform:uppercase}
nav a{display:block;color:var(--muted);text-decoration:none;padding:6px 0;font-size:14px} nav a:hover{color:var(--text)}
section.card{background:var(--card);border:1px solid var(--border);border-radius:14px;padding:18px;margin-bottom:18px}
h1,h2,h3,h4{scroll-margin-top:80px} pre{background:#0c1629;border:1px solid #23324a;border-radius:10px;padding:12px;overflow:auto}
img{max-width:100%;height:auto;border:1px solid var(--border);border-radius:10px}
.footer{text-align:center;color:var(--muted);padding:20px 0}
.badge{display:inline-block;padding:2px 8px;border:1px solid #3a4b6a;border-radius:999px;color:#9fb0d3;font-size:12px;margin-left:8px}
hr.sep{border:none;border-top:1px dashed var(--border);margin:14px 0}
.note{background:#0d1a33;border:1px solid #22345a;border-radius:8px;padding:10px 12px;margin:10px 0;color:#cfe1ff}
</style>
</head>
<body>
<header>
  <h1>Hector ä»¿çœŸ & MPC å­¦ä¹ ç«™ <span class="badge">å•é¡µÂ·å¯ç›´æ¥éƒ¨ç½²</span></h1>
</header>
<div class="wrap">
  <nav>
    <h3>ç›®å½•</h3>
    <div id="toc"></div>
  </nav>
  <main>
    <section class="card note">
      <strong>æ›´æ–°ï¼š</strong>æ ¹æ®ä½ çš„å®é™…å¤ç°ç»“æœï¼Œå·²å°† <em>â€œCMake ç‰ˆæœ¬ä¸è¶³â€</em> çš„å¤„ç†æ–¹å¼æ”¹ä¸ºï¼š
      <code>sudo snap install cmake --classic</code>ï¼Œå¹¶åœ¨ç¼–è¯‘ qpOASES æ—¶ä½¿ç”¨ <code>/snap/bin/cmake</code>ï¼Œæ— éœ€å¸è½½ç³»ç»Ÿè‡ªå¸¦ cmakeã€‚
    </section>
    <section class="card" id="md">
      <h2>ä¸»ç¬”è®°ï¼ˆMarkdownï¼‰</h2>
      <h1>ğŸ“ Hector åŒè¶³ä»¿çœŸå­¦ä¹ ç¬”è®°ï¼ˆUbuntu 20.04 + ROS Noeticï¼‰</h1>
<p></p>
<h2>1. ç³»ç»Ÿä¸ç¯å¢ƒé…ç½®</h2>
<p></p>
<h3>ï¼ˆ1ï¼‰ç³»ç»Ÿå®‰è£…</h3>
<ul>
<li>æ“ä½œç³»ç»Ÿï¼š**Ubuntu 20.04**</li>
<li>å®‰è£…æ—¶é€‰æ‹© **safe graphics** æ¨¡å¼ä»¥ä¿è¯å…¼å®¹æ€§ã€‚</li>

</ul><p></p>
<h3>ï¼ˆ2ï¼‰æ›´æ–°ç³»ç»Ÿ</h3>
<pre><code>sudo apt update
sudo apt upgrade -y</code></pre>
<p></p>
<h3>ï¼ˆ3ï¼‰å®‰è£…å¸¸ç”¨å·¥å…·</h3>
<pre><code>sudo apt install -y git cmake build-essential curl</code></pre>
<p></p>
<p>---</p>
<p></p>
<h2>2. å®‰è£… ROS Noetic</h2>
<p></p>
<h3>ï¼ˆ1ï¼‰æ·»åŠ è½¯ä»¶æºä¸å¯†é’¥</h3>
<pre><code>sudo sh -c &#x27;echo &quot;deb http://packages.ros.org/ros/ubuntu $(lsb_release -sc) main&quot; &gt; /etc/apt/sources.list.d/ros-latest.list&#x27;
sudo apt install -y curl
curl -s https://raw.githubusercontent.com/ros/rosdistro/master/ros.asc | sudo apt-key add -</code></pre>
<p></p>
<h3>ï¼ˆ2ï¼‰å®‰è£… ROS æ¡Œé¢å®Œæ•´ç‰ˆ</h3>
<pre><code>sudo apt update
sudo apt install ros-noetic-desktop-full -y</code></pre>
<p></p>
<h3>ï¼ˆ3ï¼‰åˆå§‹åŒ– rosdep</h3>
<pre><code>sudo rosdep init
rosdep update</code></pre>
<p></p>
<h3>ï¼ˆ4ï¼‰æ·»åŠ ç¯å¢ƒå˜é‡</h3>
<pre><code>echo &quot;source /opt/ros/noetic/setup.bash&quot; &gt;&gt; ~/.bashrc
source ~/.bashrc</code></pre>
<p></p>
<p>---</p>
<p></p>
<h2>3. åˆ›å»ºå·¥ä½œç©ºé—´</h2>
<pre><code>mkdir -p ~/catkin_ws/src
cd ~/catkin_ws
catkin_make</code></pre>
<p></p>
<p>---</p>
<p></p>
<h2>4. å…‹éš† Hector ä»¿çœŸé¡¹ç›®ä¸ä¾èµ–</h2>
<p></p>
<h3>ï¼ˆ1ï¼‰è¿›å…¥ src ç›®å½•</h3>
<pre><code>cd ~/catkin_ws/src</code></pre>
<p></p>
<h3>ï¼ˆ2ï¼‰å…‹éš†ä¸»é¡¹ç›®</h3>
<pre><code>git clone https://github.com/guoliang12/Hector_Simulation.git</code></pre>
<p></p>
<p>&gt; ğŸ“˜ è‹¥åŒ…å«å­æ¨¡å—ï¼ˆå¦‚ unitree_gazeboï¼‰ï¼Œæ‰§è¡Œï¼š</p>
<pre><code>git submodule update --init --recursive</code></pre>
<p></p>
<p>---</p>
<p></p>
<h2>5. å®‰è£… qpOASES æ±‚è§£å™¨ï¼ˆMPC ç”¨ï¼‰</h2>
<p></p>
<h3>ï¼ˆ1ï¼‰å…‹éš†æºç </h3>
<pre><code>cd ~/catkin_ws/src
git clone https://github.com/coin-or/qpOASES.git
cd qpOASES
mkdir build &amp;&amp; cd build</code></pre>
<p></p>
<h3>ï¼ˆ2ï¼‰è§£å†³ CMake ç‰ˆæœ¬ä¸è¶³ï¼ˆå·²éªŒè¯ç”¨ snap æ–¹å¼å¯è¡Œâœ…ï¼‰</h3>
<p>Ubuntu 20.04 é»˜è®¤ cmake 3.16ï¼Œè‹¥ç¼–è¯‘ qpOASES éœ€è¦ â‰¥3.18ï¼š</p>
<pre><code>sudo snap install cmake --classic
/snap/bin/cmake --version</code></pre>
<p>sudo apt remove cmake -y</p>
<p>sudo snap install cmake --classic</p>
<p>cmake --version</p>
<pre><code>
### ï¼ˆ3ï¼‰ç¼–è¯‘å®‰è£…</code></pre>
<p>/snap/bin/cmake ..</p>
<p>make -j$(nproc)</p>
<p>sudo make install</p>
<pre><code>
---

## 6. ç¼–è¯‘æ•´ä¸ªé¡¹ç›®</code></pre>
<p>cd ~/catkin_ws</p>
<p>catkin_make -DCMAKE_BUILD_TYPE=Release</p>
<pre><code>
---

## 7. è®¾ç½®ç¯å¢ƒå˜é‡
</code></pre>
<p>echo &quot;source ~/catkin_ws/devel/setup.bash&quot; &gt;&gt; ~/.bashrc</p>
<p>echo &quot;export GAZEBO_PLUGIN_PATH=\$GAZEBO_PLUGIN_PATH:~/catkin_ws/devel/lib&quot; &gt;&gt; ~/.bashrc</p>
<p>echo &quot;export GAZEBO_MODEL_PATH=\$GAZEBO_MODEL_PATH:~/catkin_ws/src/Hector_Simulation/models&quot; &gt;&gt; ~/.bashrc</p>
<p>source ~/.bashrc</p>
<pre><code>
---

## 8. è¿è¡Œä»¿çœŸ

### ï¼ˆ1ï¼‰å¯åŠ¨ Gazebo</code></pre>
<p>roslaunch unitree_gazebo biped.launch</p>
<pre><code>
### ï¼ˆ2ï¼‰å¦å¼€ç»ˆç«¯å¯åŠ¨æ§åˆ¶å™¨</code></pre>
<p>rosrun hector_control hector_ctrl</p>
<pre><code>
è¾“å‡ºç¤ºä¾‹ï¼š</code></pre>
<p>MPC Solve time: 1.081072 ms</p>
<p>Contact 0: 0.5</p>
<p>swing 1: 0.505</p>
<pre><code>
---

## 9. Gazebo åˆ·æ–°ç‡ä¼˜åŒ–

### ï¼ˆ1ï¼‰æŸ¥çœ‹æ¸²æŸ“æ–¹å¼</code></pre>
<p>sudo apt install -y mesa-utils</p>
<p>glxinfo | grep -i &quot;OpenGL renderer&quot;</p>
<pre><code>- è‹¥ä¸º **llvmpipe** â†’ è½¯ä»¶æ¸²æŸ“ï¼Œéœ€å®‰è£…é©±åŠ¨ã€‚
- è‹¥ä¸º **NVIDIA / Intel / AMD** â†’ æ­£å¸¸ã€‚

### ï¼ˆ2ï¼‰å®‰è£…æ˜¾å¡é©±åŠ¨ï¼ˆNVIDIA ç¤ºä¾‹ï¼‰</code></pre>
<p>sudo ubuntu-drivers devices</p>
<p>sudo ubuntu-drivers autoinstall</p>
<p>sudo reboot</p>
<pre><code>
éªŒè¯ï¼š</code></pre>
<p>glxinfo | grep -i &quot;OpenGL renderer&quot;</p>
<p>nvidia-smi</p>
<pre><code>
### ï¼ˆ3ï¼‰Gazebo å†…éƒ¨ä¼˜åŒ–
- å…³é—­é˜´å½±ï¼ˆView â†’ Shadows å–æ¶ˆå‹¾é€‰ï¼‰ï¼›
- é™ä½åˆ†è¾¨ç‡ï¼›
- Headless æ¨¡å¼è¿è¡Œï¼š</code></pre>
<p>  roslaunch unitree_gazebo biped.launch gui:=false</p>
    </section>
    <section class="card" id="docx">
      <h2>é™„ï¼šå®‰è£…ç¯å¢ƒï¼ˆWord æ‘˜è¦ + å›¾ç‰‡ï¼‰</h2>
      <p>å®‰è£…ç¯å¢ƒ</p>
<p>Ubuntu 20.04.6 LTSâ†’ å®˜æ–¹æ¨èç³»ç»Ÿï¼Œå®Œç¾æ”¯æŒ ROS Noetic + Gazebo 11ã€‚</p>
<p>ä¸‹è½½ubuntué•œåƒhttps://releases.ubuntu.com/20.04/</p>
<p>é€‰æ‹©ï¼šubuntu-20.04.6-desktop-amd64.isoï¼ˆçº¦ 3GBï¼‰</p>
<p>å†™å…¥ubuntué•œåƒ</p>
<p>ä½¿ç”¨å›¾å§å·¥å…·ç®±ä¸­Rufuså†™å…¥åˆšåˆšä¸‹è½½çš„é•œåƒ</p>
<p>é‡å¯ï¼Œä½¿ç”¨uç›˜è¿›å…¥ï¼Œå®‰è£…ç³»ç»Ÿ</p>
<p>æœ€ç»ˆ</p>
    </section>
    <section class="card" id="next">
      <h2>åç»­æ–¹å‘ï¼šMPC å®ç°ä¸æ”¹è¿›</h2>
      <ul>
        <li>é˜…è¯»æ§åˆ¶èŠ‚ç‚¹ä¸­ MPC çš„çŠ¶æ€ã€ä»£ä»·ä¸çº¦æŸæ„å»ºï¼›æ˜ç¡® qpOASES çš„ H/g/A/lb/ub ç»„ç»‡ä¸æ±‚è§£å‘¨æœŸã€‚</li>
        <li>å®éªŒ Q/R æƒé‡ã€é¢„æµ‹æ­¥é•¿ï¼ˆNp/Ncï¼‰å˜åŒ–å¯¹æ­¥æ€ç¨³å®šæ€§ä¸èƒ½è€—çš„å½±å“ï¼›è®°å½• rosbag å¹¶åšé¢‘åŸŸåˆ†æã€‚</li>
        <li>å¼•å…¥æ‰°åŠ¨è§‚æµ‹ä¸è½¯çº¦æŸï¼šDOBC-MPCã€Slack å˜é‡æƒ©ç½šã€å‚è€ƒè½¨è¿¹æ»šåŠ¨æ›´æ–°ã€‚</li>
        <li>å·¥ç¨‹åŒ–ï¼šå‚æ•°æŠ½ä¸º YAMLï¼›æ”¯æŒ headless/GUIï¼›æä¾›ä¸€é”®å¤ç°å®éªŒè„šæœ¬ã€‚</li>
      </ul>
      <hr class="sep" />
    </section>
    <div class="footer">Â© 2025 å­¦ä¹ ç«™ Â· å¯ç›´æ¥æ”¾åˆ° GitHub Pages / Nginx / Apache</div>
  </main>
</div>
<script>
// ç›®å½•è‡ªåŠ¨ç”Ÿæˆ
const toc = document.getElementById('toc');
document.querySelectorAll('main h2, main h3').forEach((h, i) => {
  if (!h.id) h.id = 'sec' + i;
  const a = document.createElement('a');
  a.href = '#' + h.id;
  a.textContent = h.textContent;
  toc.appendChild(a);
});
</script>
</body>
</html>
